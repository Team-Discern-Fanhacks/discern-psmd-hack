# compilation

This hack use make to generate the needed file. make is a file format, that can be read/executed with the program "gnu make" (also simply called make). The definition of how to build the hack is stored both in the Makefile file, and the submake.mk.

Makefile is a manually created file, while submake.mk is automatically generated by the script "generate_sub_makefile.py". This file is automatically recreated when required by the main Makefile (and as it is implement, everytime you generate the patch, but it's generation is fast).

Make is an incremental build system, that mean that it will recompile required file (for example, if you change the source a plb file, it will only recompile the plb file).

Make use target. You can specify target after the make command. For example, if you execute make with the make command, you can use `make patch` to call the target `patch` (that will build the patch). You can also add `-jX`, that will use up to `X` core, (as in `make patch -j4`) allowing parrallelization for faster compilation. If you don't specify a target, it will default to patch. Thus, if you want to just build the patch with you core, you can use `make -j4`.

Here is a list of usefull target:
- `patch` : will build the patch folder, containing a patch that can be applied to the romfs of the console (how you can applie it is outside the scope of this guide, but I (marius851000) will be happy to help you if you need help)
- `patch.zip` : a zipped version of patched. Can be used if you want to share the compiled result
- `install` : will copy the patch to the folder use for romfs patches. Please note you need a recent version of citra if you want to use this function, that it only work with US rom, and that some old version of citra will take a lot of time before starting the rom if a patch is present (you should update your citra version)
- `uninstall` : will remove every patch to the romfs of the US PSMD. This also apply to other mod you could have installed, like `PMD-Lua-Mod-Loader` by eddyK28.
- `clean` : remove file generated by `make`. Will not uninstall mods however.

Other targets exist too. You don't need to use them in a normal use case however.
